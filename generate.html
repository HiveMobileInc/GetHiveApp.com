<!DOCTYPE html>
<html lang="en">
<head>
		<title>Hive | Create your Hive</title>
		<meta charset="UTF-8" />
		<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"/>
		<meta name="apple-mobile-web-app-capable" content="yes"/>
		<meta name="description" content="Enable Conversations everywhere with Hive: Generate your conversation link now."/>
		<meta property="og:title" content="Enable Conversations Anywhere - Generate yours now."/>
		<meta property="og:site_name" content="Hive"/>
		<meta property="og:description" content="Enable Conversations everywhere with Hive: An intuitive communication platform that works in every situation, and on device and operating system. Generate your conversation link now."/>
		<meta property="og:url" content="http://hivemobileinc.github.io/GetHiveApp.com/">
		<meta property="og:image" content="http://hivemobileinc.github.io/GetHiveApp.com/img/hive_logo_blue.png"/>
		<meta property="og:type" content="website" />
		<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600' rel='stylesheet' type='text/css'/>
		<link rel="shortcut icon" href="img/favicon.ico"/>
		<link rel="stylesheet" type="text/css" href="css/generate.css"/>
</head>
<body>
<img src="img/bg-full.jpg" class="bg" alt=""/>


<section class="landing generate">
	<div class="container">
		<img class="logo" src="img/logo-w.png" alt="Hive logo"/>
		<h1>Create Your Hive</h1>
	</div>
</section>

<section class="generate-link">
	<div class="container">
	
	

		<!-- Good morning :) --> 
	
		<!-- So on iOS, it the keyboard has a "Go" button, and when tapped, it submits. I put this thing below. It's not a solution, but it basically stops the "Go" from sending. My searches aren't pulling up anything good. Maybe you know how to make "Go" just close the keyboard. That would be optimal.. --> 
		<form method="post" onsubmit="return false;" class="generate col-xxs-12 col-xs-6 col-xs-offset-3 col-lg-4 col-lg-offset-4">
		
			<div id="con-main" class="top">

				<span id="regin">
					<input id="username" class="form-control hve-name" type="text" name="username" placeholder="username"/><br>
					<input id="password" class="form-control hve-name" type="password" name="password" placeholder="password"/><br>
					<button id="btn-regin" class="btn btn-regin">Login or Register</button>
				</span>

				<span id="gen" class="none">

					<!-- hidden till we get it figured out -->
					<img id="avatar" src="img/guest.png" class="none" style="margin: 10px;"/>

					<input id="inp-title" type="text" placeholder="Choose a title" class="form-control hve-name"/>
					
					<button id="btn-pub" class="hve-type-btn selected col-xs-5"><i class="fa fa-globe"></i>Public</button>
					<button id="btn-pri" class="hve-type-btn col-xs-5 col-xs-offset-2"><i class="fa fa-lock"></i>Private</button>
				
					<p id="dsc-pub" class="desc public"><i class="fa fa-info-circle"></i>Everyone will be able to see this conversation.</p>
					<p id="dsc-pri" class="desc private none"><i class="fa fa-info-circle"></i>Only the people you invite will be able to see this conversation.</p>
					
					<button id="btn-create" class="send col-xs-12">Create <span id="txt-title">Your Conversation</span></button>
				</span>
			</div>
			
			<!-- remove " .none " class on " div.bottom " on generate success -->
			<div id="con-gen" class="bottom none">
				<div class="hve-link col-xs-12">
					<span id="gen-url" onclick="return highlight(this);">http://see.rest/URL</span>
					<button class="copy" ><i class="fa fa-clipboard" data-toggle="tooltip" data-placement="bottom" title="Copy to clipboard"></i></button>
				</div>
				<p class="desc private"><i class="fa fa-info-circle"></i>Copy-paste this link anywhere to start the conversation!</p>
			</div>
		</form>
	</div>
</section>




<footer class="generate">
<div class="container">
<div class="col-xxs-12 col-lg-10 col-lg-offset-1">
		<ul class="legal">Get in touch!  
<SCRIPT type="text/javascript">eval(unescape('%76%61%72%20%73%3D%27%61%6D%6C%69%6F%74%68%3A%40%69%65%67%68%74%76%69%61%65%70%70%63%2E%6D%6F%27%3B%76%61%72%20%72%3D%27%27%3B%66%6F%72%28%76%61%72%20%69%3D%30%3B%69%3C%73%2E%6C%65%6E%67%74%68%3B%69%2B%2B%2C%69%2B%2B%29%7B%72%3D%72%2B%73%2E%73%75%62%73%74%72%69%6E%67%28%69%2B%31%2C%69%2B%32%29%2B%73%2E%73%75%62%73%74%72%69%6E%67%28%69%2C%69%2B%31%29%7D%64%6F%63%75%6D%65%6E%74%2E%77%72%69%74%65%28%27%3C%61%20%68%72%65%66%3D%22%27%2B%72%2B%27%22%3E%68%69%40%67%65%74%68%69%76%65%61%70%70%2E%63%6F%6D%3C%2F%61%3E%27%29%3B'))</SCRIPT>
		</ul>
		<span class="copyright">&#169; 2014 <a href="http://gethiveapp.com">Hive Mobile</a> Inc.</span>
</div>
</div>
</footer>

<script src="js/min/index-min.js"></script>
<script src="https://s3.amazonaws.com/hvejs/hve.js"></script>
<script type="text/javascript">
  	var btn_pub = $('#btn-pub');
  	var btn_pri = $('#btn-pri');
  	var dsc_pub = $('#dsc-pub');
  	var dsc_pri = $('#dsc-pri');
  	btn_pub.click(function () {
  		btn_pub.addClass('selected');
  		dsc_pub.removeClass('none');
  		btn_pri.removeClass('selected');
  		dsc_pri.addClass('none');
  	});
  	btn_pri.click(function () {
  		btn_pub.removeClass('selected');
  		dsc_pub.addClass('none');
  		btn_pri.addClass('selected');
  		dsc_pri.removeClass('none');
  	});

  	var txt_title = $('#txt-title');
  	var txt_title_start = txt_title.text();
  	var inp_title = $('#inp-title');
  	var btn_create = $('#btn-create');
  	inp_title.keyup(function (e) {
  		var l = inp_title.val().length;
  		if (l == 0) txt_title.text(txt_title_start);
  		else txt_title.text(l > 21 ? inp_title.val().substr(0, 21) + '...' : inp_title.val());
  		if (e.keyCode == 13) {
	    	// do nothing on enter
	        return false; 
	    }
  	});
  	btn_create.click(function () {
  		create_conversation(null, inp_title.val(), btn_pub.hasClass('selected') ? 'public' : 'private', function (err, bdy) {
  			if (err) throw err;
  			generated(bdy);
  		});
  		return false;
  	});

  	function generated (bdy) {
  		$('#con-main').addClass('faded');
  		$('#con-gen').removeClass('none');
  		btn_create.addClass('none');
		$('#gen-url').text(bdy.created.url_short);
  		setTimeout(function () {highlight(document.getElementById('gen-url'));}, 10);
  	};

  	function highlight (e) {
	    var range;
	    var selection;    
	    if (document.body.createTextRange) {
	        range = document.body.createTextRange();
	        range.moveToElementText(e);
	        range.select();
	    } else if (window.getSelection) {
	        selection = window.getSelection();        
	        range = document.createRange();
	        range.selectNodeContents(e);
	        selection.removeAllRanges();
	        selection.addRange(range);
	    }
	    return false;
	}

	var username = $('#username');
	var password = $('#password');
	username.keyup(function (e) {
	    if (e.keyCode == 13) {
	    	password.focus();
	        return false; 
	    }
	});
	password.keyup(function (e) {
	    if (e.keyCode == 13) {
	    	regin_click();
	        return false; 
	    }
	});
	$('#btn-regin').click(regin_click);
	var con_regin = $('#regin');
	var gen = $('#gen');
	function regin_click () {
		regin(username.val(), password.val(), function (err, creds) {
			if (err) throw err;
			bndl = creds;
			con_regin.addClass('none');
			gen.removeClass('none');
			$('#avatar').attr('src', bndl.profile.avatar + tkn());
		});
		return false;
	};
</script>
<script>
	$('.fa-clipboard').tooltip();
  	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  	ga('create', 'UA-53846051-3', 'auto');
  	ga('send', 'pageview');
</script>

</body>
</html>